---
layout: post
title: HP ProLiant MicroServer N54Lをカスタマイズ
category: hardware
tags : [MicroServer, HDD, SSD, ファン]
description: MicroServerのディスクとファンを換装して静音化。
---
# 工具
トルクスねじが使われているが、
工具が前面扉の裏に格納されている。
真っ黒で気づきにくいので注意。

# ディスクの交換

## HDD
前面扉の鍵を開けると、HDDトレイが4つ鎮座している。
トレイ下側の押せそうな部分を押しながら、「Non-Hot Plug HDD」と書いてある部分を押すと、
取っ手(？)が出てきて外せる。

HDDトレイを差し込むと、HDDに電源とSATAケーブルが自動的につながる構造になっている。

## SSD
HDDトレイは前述の構造のため、3.5インチHDDのコネクタと同じ位置にSSDをセットしないと使えない。
SSD/HDDマウンタでこれをやるのは骨が折れるため、5インチベイに適当に転がしておく。

電源は5インチベイのすぐ近くにあるのでそれを利用。
SATAコネクタは、マザーボードの筐体前面側に1つあるが、HDDトレイの構造体と近く、
L型コネクタでないと入れにくい。

# ケースLEDを隠す
HPマークが青く光るのだが、異様に眩しいため黒い画用紙をはさんで隠す。

筐体上面蓋を外し、HPマークの裏側に3 x 3cmくらいに切った黒い画用紙を差し込む。
金属部品の隙間に画用紙をはさむことができるため、テープ等で接着する必要はない。

黒い画用紙はほとんど光を透過しないため、LEDの光は一切見えなくなる。

# ファンの交換

## リアファン
参考サイトによると、回転数が低すぎるとBIOSによって「Fan error」とかで強制シャットダウンしてしまうようだ。
PWMではない3pinのファンも接続できるため、ファンの選定はこっちのほうが楽。

- 120mmファン, 25mm厚
- PWM (4pin) or 3pin
- 30～35%のduty比のとき500rpm以上あること (3pinの場合は500rpm以上)

また、ピンヘッダの配置が通常と異なるので、マイナスドライバとかでコネクタからケーブルを引っこ抜き入れ換える必要がある。

3ピンの場合は、前面側の3ピンにコネクタを差し込む。このとき3ピンコネクタの出っ張りが邪魔で4ピンヘッダに入らないので邪魔な部分を切り取る。

## リアファン上空を塞ぐ
ケース内で、リアファンの上側は空いているが、
ここをダンボール等を切って塞ぐことで、
少しだけ騒音を抑える事ができる。

ケース蓋を閉めると、ファン駆動音の低音部分が大きくなる。
どうやらケース内の反響音がかなり大きいようだ。

## 電源ファン
電源(PSU)のファン(40mm)も交換できる。どうやら電源ファンの方がロットによって品質が悪いようで(同サイズの高性能ファンに対して)うるさいらしく記事が多く見つかる。
小型ファンな事もあって高音な騒音になる。

起動するたびに騒音が変わっているような気がするのは電源ファンが原因か？

### 電源ファンの交換
電源ケーブルのコネクタがとんでもなく固くて抜きにくいが、
それさえ外せれば電源ユニットは割りと簡単に取り出せる。

電源ユニットはネジを外せば普通に開くが、ギチギチに実装されているため膨れており開けにくい。

ファンの電源確保が問題で、2ピンに小型コネクタになっているため、
(交換用に買った)ファンのコネクタはそのままでは入らない。
方法は次の2つ。

- HDDとかの電源ケーブルから変換コネクタを使い供給する
- ケーブルを切って元のコネクタにつなぎ合わせる

後者を選んだ。動いた。静かになった。


## 参考
- [Quiet fan swap for HP MicroServer](http://www.silentpcreview.com/article1193-page7.html)
- [N54L fan replacement](https://www.reox.at/blog/posts/N54L_fan_replacement/)
- [N54L Microserver - Rear Fan Replacement Guide](http://homeservershow.com/forums/index.php?/topic/8668-n54l-microserver-rear-fan-replacement-guide/)
- [3 pin fan installation](http://forums.overclockers.co.uk/showpost.php?p=24671250&amp;postcount=6457)